import{a as d,j as e}from"./index-BXv429K9.js";import{a as t,s as m,l as u,T as p}from"./axiosInstance-Chy4COHr.js";import{u as x}from"./index.esm-B7pIm5Yg.js";const g=a=>t.post("/admin/signin",a),w=()=>t.post("/api/user/check"),h=""+new URL("logo_full-Bvi19bFc.png",import.meta.url).href;function f({onLoginSuccess:a}){const l=d(),{register:o,handleSubmit:i,formState:{errors:r}}=x(),n=async c=>{try{const s=await g(c);m("hexEcToken",s.data.token,s.data.expired),l("/admin/products"),a?.()}catch(s){u.error(s.message,s),p.fire({position:"top",icon:"error",title:s?.response?.data?.message,color:"#fff",iconColor:"#fff",background:"#ef5350"})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center lg:h-screen gap-2",children:[e.jsx("div",{className:"w-full max-w-3/5 lg:w-1/3",children:e.jsx("img",{src:h,alt:"logo"})}),e.jsxs("form",{className:"w-full lg:w-1/2 max-w-120 min-w-fit px-2 py-6 lg:px-20 lg:py-10 flex flex-col justify-center align-middle text-gray-600 lg:bg-white rounded-main",onSubmit:i(n),noValidate:!0,children:[e.jsx("h1",{className:"mb-2 lg:mb-10 text-3xl text-center",children:"Login"}),e.jsxs("div",{className:"px-5 py-6 lg:py-16",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"username",className:"text-xl",children:"Email:"}),e.jsx("input",{className:"w-full block p-2 border border-gray-300 rounded-input hover:border-primary focus:border-primary focus:outline-0 placeholder:text-sm",type:"email",id:"username",placeholder:"Type your email",...o("username",{required:"請輸入 Email",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Email 格式錯誤"}})}),e.jsx("div",{className:"h-5 text-status-error",children:r.username?r.username.message:""})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"text-lg",children:"Password:"}),e.jsx("div",{className:"relative",children:e.jsx("input",{className:"w-full block p-2 border border-gray-300 rounded-input hover:border-primary focus:border-primary focus:outline-0 placeholder:text-sm;",type:"password",id:"password",placeholder:"Type your password",...o("password",{required:"請輸入密碼",minLength:{value:6,message:"密碼長度至少需 6 碼"}})})}),e.jsx("div",{className:"h-5 text-status-error",children:r.password?r.password.message:""})]}),e.jsx("div",{className:"mt-10 text-center",children:e.jsx("button",{type:"submit",className:"text-white bg-secondary/80 rounded-button px-4 py-2 hover:bg-secondary cursor-pointer",children:"Login"})})]})]})]})})}const v=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));export{f as L,v as a,w as c};
